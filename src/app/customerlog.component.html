<div>
    <span> <img src='../assets/Photos/logo.jpg' width=20% height=20% /></span>
    <p></p>
</div>

<div class="row">
    <mat-form-field>
      <mat-label>搜尋:</mat-label>

      <input matInput type="string"
      [(ngModel)]='Search'
      placeholder="顧客名"
      />

    </mat-form-field>

</div>

<div class="loader" id="loader"></div>


<table class="table table-bordered table-striped">
    <tr>
        <th>
            顧客姓名
        </th>
        <th>
            電話
        </th>
        <th>
            訂購管道
        </th>
        <th>
            通話紀錄
        </th>
        <th>
            備註 (後續追蹤)
        </th>
        <th>
            時間
        </th>
    </tr>

        <tr>
            <td>
                <input type="string"
                [(ngModel)]='Name'
                style="width: 6em;"
                />
            </td>
            <td>
                <input type="string"
                [(ngModel)]='PhoneNumber'
                style="width: 6em;"
                />
            </td>
            <td>
              <mat-form-field>
                <select matNativeControl [(ngModel)]="Channel" required>
                  <option value="電話直購">電話直購</option>
                  <option value="簡訊促銷">簡訊促銷</option>
                  <option value="樂天">樂天</option>
                  <option value="蝦皮">蝦皮</option>
                  <option value="官網">官網</option>
                  <option value="親友員工">親友員工</option>
                  <option value="其他">其他</option>
                </select>
              </mat-form-field>
            </td>
            <td>
                <textarea [(ngModel)]='Note' class="form-control" >

                </textarea>
            </td>
            <td  class="warning">
                <textarea [(ngModel)]='Comment' class="form-control">

                </textarea>
            </td>
            <td>

            </td>
            <td>
                <button mat-raised-button color="primary" (click) = 'addlog()'>
                    新增
                </button>

            </td>
        </tr>

        <tbody>
            <tr *ngFor = 'let item of logList | paginate: { itemsPerPage: 10, currentPage: p} '>

                <td>{{ item.Name}}</td>
                <td>{{ item.PhoneNumber }}</td>
                <td>
                    {{item.Channel}}
                </td>
                <td>{{ item.Note}}</td>
                <td class="warning">{{ item.Comment}}</td>
                <td>{{ item.RecordTime}}</td>
                <td>
                        <button  class="btn btn-danger" (click) = 'DeleteLog(item.RowKey, item.Name)' >
                                刪除
                        </button>
                        <button type="button" class="btn btn-info" (click)="openModal(item)">編輯</button>

                </td>

            </tr>
        </tbody>
        <pagination-controls (pageChange)="p = $event"></pagination-controls>

</table>





